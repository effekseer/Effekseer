% No11. 3Dモデルを使おう！

<div class="main">

## 概要

本章では、3Dモデルを使用したエフェクトを作成します。
Effekseerでは、3Dモデルをパーティクルとして表示したり、生成方法の生成位置として使用できます。
それらの機能を使用してエフェクトを作成します。

<div align="center">
<table>
<tr>

<td>
<div align="center">
<img src="../../img/Tutorial/07_effect1.gif">
<p>本章で作成するエフェクト1</p>
</div>
</td>
<td>
<div align="center">
<img src="../../img/Tutorial/07_effect2.gif">
<p>本章で作成するエフェクト2</p>
</div>
</td>

</tr>
</table>
</div>

## 3Dモデル

Effekseerでは、fbxかmqoの3Dモデルを読み込めます。
fbxはBlender、Maya、3ds Max等、様々な3D編集ソフトから出力できる形式です。
mqoはMetasequoiaから出力できる形式です。

アニメーション付きのfbxにも対応しています。

使い方は2つあります。

1つ目は3Dモデルをパーティクルとして表示する方法です。

図

2つ目は生成方法の生成位置として3Dモデルを表示する方法です。

図

本章では、これらの使用方法について説明します。

<p>あらかじめ作成途中のエフェクトを下記のリンクからダウンロードできるようにしました。</p>
<div align="center">
<p><a href = "../../Sample/07_01_Sample.zip">ダウンロード</a></p>
</div>

## パーティクルとして表示

スプライトと同じように、「描画」パネルから描画方法としてモデルを選択します。

そして、モデルを読み込みます。

読み込んだ3Dモデルが表示されていることがわかります。

図

ただ、このままでは奥行きがおかしいのでZテストをOnにしましょう。
奥行きも含め、正しく表示されていることがわかります。

図

不透明なオブジェクトならこれで問題ありませんが、モデルの形に沿ってエフェクトを出したいときもあります。

そのようなときは、描画パネルからライトをオフにします。
先ほどのZテストもオフにします。

画像を設定しましょう。
さらに、UVスクロールも設定します。

そうすると球形に沿ってエフェクトが流れることがわかります。

図

## 生成方法の位置として使用

モデルを表示する以外にも生成方法の位置として使用できます。

モデルの頂点や面の位置にパーティクルを生成できます。

試してみましょう。

生成方法でモデルを選択します。そしてモデルとしてxxxを読み込みます。
わかりやすくするために、表示順をxxxにします。

パーティクルの画像にはxxxを表示します。
生成数も増やします。

そうするとモデルに沿ってパーティクルが配置されることがわかります。

xxx

リボンや軌跡と組み合わせることもできます。
その場合、モデルの頂点に沿ってリボンや軌跡が生成されます。

これは、文字の3Dモデルを生成方法に指定して、軌跡を表示したエフェクトです。
文字に沿って軌跡が生成されていることがわかります。


最後に、本章で作成されたエフェクトをダウンロードできるようにしてみました。

<div align="center">
<a href = "../../Sample/07_02_Sample.zip">ダウンロード</a>
</div>

## まとめ

本章では、3Dを使用してエフェクトを作成しました。
次章では、Fカーブを使用して複雑な動きを再現します。

</div>
